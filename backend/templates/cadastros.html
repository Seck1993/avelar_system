{% extends 'base.html' %}
{% block content %}

<div class="row mb-3">
    <div class="col-12">
        <h3><i class="fas fa-plus-circle text-danger"></i> Central de Cadastros</h3>
        <p class="text-muted">Utilize esta área para inserir novos registros. Os vínculos financeiros são feitos no menu <strong>Comercial</strong>.</p>
    </div>
</div>

<ul class="nav nav-tabs border-secondary mb-4" id="cadastroTab" role="tablist">
    <li class="nav-item"><button class="nav-link active text-white bg-dark border-secondary" data-bs-toggle="tab" data-bs-target="#clientes"><i class="fas fa-users text-light"></i> Novo Cliente</button></li>
    <li class="nav-item"><button class="nav-link text-white bg-dark border-secondary" data-bs-toggle="tab" data-bs-target="#equipe"><i class="fas fa-user-tie text-info"></i> Nova Equipe</button></li>
    <li class="nav-item"><button class="nav-link text-white bg-dark border-secondary" data-bs-toggle="tab" data-bs-target="#frota"><i class="fas fa-car text-success"></i> Nova Frota</button></li>
    <li class="nav-item"><button class="nav-link text-white bg-dark border-secondary" data-bs-toggle="tab" data-bs-target="#locais"><i class="fas fa-map-marker-alt text-warning"></i> Novas Rotas</button></li>
</ul>

<div class="tab-content" id="cadastroTabContent">

    <div class="tab-pane fade show active" id="clientes">
        <div class="card-custom">
            <h5 class="text-white mb-4">Cadastrar Cliente (Dados Pessoais)</h5>
            <form method="POST">
                <input type="hidden" name="tipo_cadastro" value="cliente">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label>Nome Completo / Razão Social</label>
                        <input type="text" name="nome" class="form-control" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label>Rota / Bairro</label>
                        <select name="bairro_id" class="form-select" required>
                            <option value="">Selecione...</option>
                            {% for b in bairros %}
                            <option value="{{ b.id }}">{{ b.cidade.nome }} - {{ b.nome }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="col-md-8 mb-3">
                        <label>Endereço</label>
                        <input type="text" name="endereco" class="form-control" required>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label>Complemento</label>
                        <input type="text" name="complemento" class="form-control">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label>Telefone / WhatsApp</label>
                        <input type="text" name="telefone" class="form-control">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label>App Monitoramento (Info Técnica)</label>
                        <select name="app_monitoramento" class="form-select">
                            <option>Nenhum</option>
                            <option>ISIC Lite</option>
                            <option>Intelbras Guardian</option>
                            <option>Hik-Connect</option>
                        </select>
                    </div>
                    
                    <div class="col-12 text-end">
                        <button class="btn btn-light fw-bold px-4">Salvar Cadastro</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div class="tab-pane fade" id="equipe">
        <div class="card-custom">
            <h5 class="text-info mb-4">Cadastrar Funcionário</h5>
            <form method="POST">
                <input type="hidden" name="tipo_cadastro" value="funcionario">
                <div class="row">
                    <div class="col-md-5 mb-3">
                        <label>Nome Completo</label>
                        <input type="text" name="nome" class="form-control" required>
                    </div>
                    <div class="col-md-3 mb-3">
                        <label>Cargo</label>
                        <input type="text" name="cargo" class="form-control" required>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label>Telefone</label>
                        <input type="text" name="telefone" class="form-control">
                    </div>
                    <div class="col-md-3 mb-3">
                        <label>CPF</label>
                        <input type="text" name="cpf" class="form-control">
                    </div>
                    <div class="col-md-3 mb-3">
                        <label>RG</label>
                        <input type="text" name="rg" class="form-control">
                    </div>
                    <div class="col-md-3 mb-3">
                        <label>CNH</label>
                        <input type="text" name="cnh" class="form-control">
                    </div>
                    <div class="col-md-3 mb-3">
                        <label>Data Nascimento</label>
                        <input type="date" name="data_nascimento" class="form-control">
                    </div>
                    <div class="col-12 mb-3">
                        <label>Endereço Residencial</label>
                        <input type="text" name="endereco" class="form-control">
                    </div>
                    <div class="col-12 text-end">
                        <button class="btn btn-info text-white fw-bold px-4">Salvar Funcionário</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div class="tab-pane fade" id="frota">
        <div class="card-custom">
            <h5 class="text-success mb-4">Cadastrar Veículo</h5>
            <form method="POST" class="row align-items-end">
                <input type="hidden" name="tipo_cadastro" value="veiculo">
                <div class="col-md-6 mb-3">
                    <label>Modelo / Descrição</label>
                    <input type="text" name="descricao" class="form-control" placeholder="Ex: Fiat Uno 2020" required>
                </div>
                <div class="col-md-4 mb-3">
                    <label>Placa</label>
                    <input type="text" name="placa" class="form-control" required>
                </div>
                <div class="col-md-2 mb-3">
                    <button class="btn btn-success text-white fw-bold w-100">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <div class="tab-pane fade" id="locais">
        <div class="row">
            <div class="col-md-6">
                <div class="card-custom h-100">
                    <h5 class="text-warning mb-3">1. Cadastrar Rota/Bairro</h5>
                    <form method="POST">
                        <input type="hidden" name="tipo_cadastro" value="bairro">
                        <div class="mb-3">
                            <label>Cidade Pertencente</label>
                            <select name="cidade_id" class="form-select" required>
                                <option value="">Selecione...</option>
                                {% for c in cidades %}
                                <option value="{{ c.id }}">{{ c.nome }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="mb-3">
                            <label>Nome do Bairro / Rota</label>
                            <input type="text" name="nome" class="form-control" required>
                        </div>
                        <button class="btn btn-warning text-dark fw-bold w-100">Salvar Rota</button>
                    </form>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card-custom h-100">
                    <h5 class="text-secondary mb-3">2. Cadastrar Cidade</h5>
                    <form method="POST">
                        <input type="hidden" name="tipo_cadastro" value="cidade">
                        <div class="mb-3">
                            <label>Nome da Cidade</label>
                            <input type="text" name="nome" class="form-control" required>
                        </div>
                        <button class="btn btn-outline-light w-100">Salvar Cidade</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}